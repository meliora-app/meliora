<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Your Profile</title>
  </head>

  <body [ngClass]="darkModeStatus ? 'dark-mode' : ''">
    <div>
      <!-- Navbar -->
      <app-home-navbar></app-home-navbar>

      <!-- Profile picture and associated user stats -->
      <div class="container mt-5 mr-5 wrapper">
        <div [ngClass]="darkModeStatus ? 'dark-mode' : ''" class="profile-circle">
          <img [src]="downloadURL" alt="" />
        </div>
        <div class="pl-3">
          <div class="wrapper">
            <p class="mt-3 pl-3 profile-name">{{viewedUsername}}</p>
            <button
              *ngIf="belongsToUser"
              mat-icon-button
              class="ml-3 mt-3"
              (click)="onEditProfileClick()"
            >
              <mat-icon>edit</mat-icon>
            </button>
          </div>
          <div class="wrapper">
            <div class="pl-3 text-center user-stats">
              <p>{{viewedUserNumPosts}}</p>
              <p>Posts</p>
            </div>

            <div class="pl-5 text-center user-stats">
              <p>4k</p>
              <p>Followers</p>
            </div>

            <div class="pl-5 text-center user-stats">
              <p>40</p>
              <p>Following</p>
            </div>
          </div>
        </div>
      </div>

      <div class="follow-options wrapper container mr-3">
        <button
            mat-icon-button
            class="mr-2"
            *ngIf="followAdd && isNotUser"
            type="button"
            (click)="onFollowAddClicked()"
            >
            <mat-icon>add_circle_outline</mat-icon>
            <span style="color: #0b3d77; font-size: 20px;">Follow</span>
          </button>
          <icon
            mat-icon-button
            *ngIf="followCheck && unfollow && isNotUser"
            class="mr-2 mt-1"
            [ngStyle]="{ color: '#0b3d77' }"
            >
            <mat-icon>check</mat-icon>
            <span style="color: #0b3d77; font-size: 20px; font-weight: bold;">Following</span>
        </icon>
          <button
            mat-icon-button
            class="pl-2"
            *ngIf="unfollow && isNotUser"
            type="button"
            (click)="onUnfollowedClicked()"
            [ngStyle]="{ color: followAdd ? 'green' : '#0b3d77' }"
            >
            <mat-icon>remove_circle_outline</mat-icon>
            <span style="color: #0b3d77; font-size: 20px;">Unfollow</span>
          </button>
        </div>

      <div class="wrapper container mr-5">
        <div>
          <!-- About Section -->
          <div class="container mr-5">
            <p class="profile-heading mt-3 pl-2">About</p>
            <div class="profile-about py-3 pl-3">
              {{bio}}
            </div>
          </div>

          <!-- Posts Section -->
          <div class="container mr-5">
            <p class="profile-heading mt-3 pl-2">Posts</p>
            <ng-container *ngIf="posts.length > 0">
              <app-post-card *ngFor="let post of posts" [post]="post" (postDeleted)="postDeletedHandler($event)" style="margin: 10px;"></app-post-card>
            </ng-container>
            <ng-container *ngIf="posts.length == 0"><app-no-posts-card></app-no-posts-card></ng-container>
          </div>
        </div>
        <div>
          <!-- Categories Section -->
          <div class="container mr-5">
            <p class="profile-heading mt-3 pl-2">Categories</p>
            <div class="categories py-4 px-4">
              <div class="category-pill py-3 px-3 text-center">Nature</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
